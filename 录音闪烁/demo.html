<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <script src="js/jquery.min.js"></script>
    <title>录音闪烁demo</title>
    <style>
        body {
            margin: 0;
        }

        html, body {
            height: 100%;
        }
        .container{
            height: 30px;
        }
    </style>
</head>
<body>
<div class="container">
    <audio id="audioControl" controls="controls">
        <source src="http://222.73.113.141:9998/File/2017-12-02/070759d2143f5c-7507-48e1-82f8-1906c921a99e.mp3" type="audio/mpeg">
        亲，该换浏览器啦！</audio>
    <img id="music_btn" src="img/record.png" style="display: inline-block" alt=""/>
</div>
</body>
</html>
<script>
    $(document).ready(function () {
        var M,play=false;
        $("#music_btn").click(function () {
            if(play){
                $("#audioControl")[0].pause();
                clearInterval(M);
                $("#music_btn").show();
                play=true;
            }else {
                $("#audioControl")[0].play();
                clearInterval(M);
                M = setInterval(function () {
                    if ($("#music_btn")[0].style.display !== "none") {
                        $("#music_btn").fadeOut(800);
                    } else {
                        $("#music_btn").fadeIn(500);
                    }
                }, 100);
                play=true;
                $("#music_btn").show();
            }

        });

        document.getElementById("audioControl").onended = function () {
            clearInterval(M);
            setTimeout(function () {
                $("#music_btn").show();
            },100);

        }
    });
</script>